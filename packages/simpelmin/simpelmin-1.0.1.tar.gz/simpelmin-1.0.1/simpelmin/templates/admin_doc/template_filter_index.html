{% extends "admin/base_site.html" %}
{% load i18n %}


{% block extrastyle %}
{{ block.super }}
<style>
  pre, dd, dt {
    font-family: var(--bs-font-monospace);
  }
  dd, pre, code {
    color: #e30000;
  }
  dt, dd {
    font-size: 12px;
  }
  .card-body p {
    margin-bottom: .25rem;
  }
</style>
{% endblock extrastyle %}

{% block breadcrumbs %}
  <li class="breadcrumb-item"><a href="{% url 'admin:index' %}">{% translate 'Home' %}</a></li>
  <li class="breadcrumb-item"><a href="{% url 'django-admindocs-docroot' %}">{% translate 'Documentation' %}</a></li>
  <li class="breadcrumb-item">{% translate 'Filters' %}</li>
{% endblock %}

{% block title %}{% translate 'Template filters' %}{% endblock %}
{% block content_title %}{% translate 'Template filters' %}{% endblock %}


{% block content %}
  {% regroup models by app_config as grouped_models %}
  <div class="row">
    <div class="col-lg-4">
      <div class="card position-sticky" style="top: 100px">
        <div class="card-body">
          <div class="scrollbars" style="max-height: 460px;">
            {% regroup filters|dictsort:"library" by library as filter_libraries %}
            {% for library in filter_libraries %}
              <h3 class="fs-5 mb-3 fw-bold">{% firstof library.grouper _("Built-in filters") %}</h3>
              <div class="list-group mb-3">
                {% for filter in library.list|dictsort:"name" %}
                  <a class="list-group-item" href="#{{ library.grouper|default:"built_in" }}-{{ filter.name }}">{{ filter.name }}</a>
                {% endfor %}
              </div>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-8">
      {% regroup filters|dictsort:"library" by library as filter_libraries %}
      {% for library in filter_libraries %}
      <div class="card mb-3">
        <div class="card-body">
            <h2 class="h4 fw-bolder">{% firstof library.grouper _("Built-in filters") %}</h2>
            {% if library.grouper %}<p class="quiet">{% blocktranslate with code="{"|add:"% load "|add:library.grouper|add:" %"|add:"}" %}To use these filters, put <code>{{ code }}</code> in your template before using the filter.{% endblocktranslate %}</p><hr>{% endif %}
            {% for filter in library.list|dictsort:"name" %}
              <div class="{% cycle 'bg-opacity-10' 'bg-opacity-50' %} bg-light rounded p-3 mb-2">
                <h2 id="{{ library.grouper|default:"built_in" }}-{{ filter.name }}" class="h5">{{ filter.name }}</h2>
                {% if filter.title %}<div class="mb-3">{{ filter.title|striptags }}</div>{% endif %}
                {% if filter.body %}{{ filter.body }}{% endif %}
              </div>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
