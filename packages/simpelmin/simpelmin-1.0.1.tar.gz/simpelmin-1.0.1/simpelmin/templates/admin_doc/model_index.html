{% extends "admin/base_site.html" %}
{% load i18n %}

{% block title %}{% translate 'Models Documentation' %}{% endblock %}
{% block content_title %}{% translate 'Models Documentation' %}{% endblock %}

{% block breadcrumbs %}
  <li class="breadcrumb-item"><a href="{% url 'admin:index' %}">{% translate 'Home' %}</a></li>
  <li class="breadcrumb-item"><a href="{% url 'django-admindocs-docroot' %}">{% translate 'Documentation' %}</a></li>
  <li class="breadcrumb-item">{% translate 'Models' %}</li>
{% endblock %}

{% block content %}
  {% regroup models by app_config as grouped_models %}
  <div class="row">
    <div class="col-lg-4">
      <div class="card position-sticky" style="top: 100px">
        <div class="card-header border-bottom">
          <h3 class="h5 mb-0 fw-bold">{% translate 'Model groups' %}</h3>
        </div>
        <div class="scrollbars p-3" style="max-height: 400px;">
          <div class="list-group list-group-flush">
            {% regroup models by app_config as grouped_models %}
            {% for group in grouped_models %}
              <a class="list-group-item" href="#app-{{ group.grouper.label }}">{{ group.grouper.verbose_name }}</a>
            {% endfor %}
          </div>
        </div>
      </div>
    </div>
    <div class="col-lg-8">
      {% for group in grouped_models %}
        <div class="card mb-3">
          <div class="card-header border-bottom">
            <h2 id="app-{{ group.grouper.label }}" class="h5 fw-bold mb-0 d-flex justify-content-between">
              <span>{{ group.grouper.verbose_name }}</span>
              <span class="fs-6 text-muted">{{ group.grouper.name }}</span>
            </h2>
          </div>
          <div class="card-body">
            {% for model in group.list %}
              <a class="btn btn-sm mb-15 btn-secondary" href="{% url 'django-admindocs-models-detail' app_label=model.app_label model_name=model.model_name %}">{{ model.object_name }}</a>
            {% endfor %}
          </div>
        </div>
      {% endfor %}
    </div>
  </div>
{% endblock %}
