{% load static i18n currency_filters %}
{% load thumbnail %}

<div class="position-absolute" style="top:0; left:0;z-index:1000;">
  <div class="row">
    {% if user.is_staff or perms.partner.dashboard_access %}
      <div class="col-12">
        <a href="{% url 'dashboard:index' %}" class="">
          <i class="fas fa-chart-line" style="font-size:x-large;color:grey;"></i>
        </a>
      </div>
    {% endif %}
    {% if user.is_superuser %}
      <div class="col-12">
        <a href="{% url 'admin:index' %}" class="">
          <i class="fas fa-tools" style="font-size:large;color:grey;"></i>
        </a>
      </div>
    {% endif %}
  </div>
</div>
<div class="row align-items-center justify-content-between mx-0">
  <div class="col col-auto align-self-center d-none d-md-block d-lg-none my-auto">
    <a href="/">{# Logo MD variant #}
      <img width=120 height=120 src="{% thumbnail CONFIG.logo_square 150x150 crop %}" alt="" class="img-fluid p-2">
    </a>
  </div>
  <div class="col col-md-5 col-lg-4 align-self-end d-none d-lg-block p-0 my-2">
    <a href="/">
      <img width=400 height=120 src="{% thumbnail CONFIG.logo 400x120 crop %}" alt="" class="img-fluid d-none d-md-block">
    </a>
  </div>
  <div class="col col-12 col-md col-lg-8 p-0">
    <div class="row align-items-center justify-content-between w-100 text-nowrap mx-auto align-items-stretch my-2">
      <div class="col col-2 align-self-center d-md-none pr-0">
        <a href="/">{# Logo SM variant #}
          <img width=150 height=150 src="{% thumbnail CONFIG.logo_square 150x150 crop %}" alt="" class="img-fluid d-md-none">
        </a>
      </div>
      <div class="col col-4 col-md-4 offset-md-4 offset-xl-6 d-none d-md-block px-1 align-self-stretch" style="line-height: 12px; font-size: 10px;">
        <div class="card text-center h-100" style="border: none;">
          <div class="card-body p-1 text-center d-flex mx-auto">
            <div class="row justify-content-center no-gutters px-md-3">
              <div class="col align-self-center">
                {% if CONFIG.header_hints_top_1_url and CONFIG.header_hints_top_1 %}
                <a href="{{ CONFIG.header_hints_top_1_url }}" class="my-auto">
                {% endif %}
                  <img width=300 height=75 src="{% if CONFIG.header_hints_top_1 %}{% thumbnail CONFIG.header_hints_top_1 300x75 crop %}{% else %}{% static 'img/header_-_oberer_werbeblock_empty.png' %}{% endif %}" style="object-fit:contain" alt="" class="img-fluid">
                {% if CONFIG.header_hints_top_1_url and CONFIG.header_hints_top_1 %}
                </a>
                {% endif %}
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-2 col-md-2 col-xl-1 align-self-center px-1">
        <div class="account btn-color2">
          {% if user.is_authenticated %}
            <a class="nav-link p-0" href="{% url 'customer:profile-view' %}">
              <i class="far fa-user fa-2x"></i>
              <p>{% trans 'My Account' %}</p>
            </a>
          {% else %}
            <a href="{% url 'customer:login' %}">
              <i class="fas fa-sign-in-alt"></i>
              <p>
                  Anmelden /<br>registrieren
              </p>
            </a>
          {% endif %}
        </div>
      </div>
      <div class="col col-2 col-md-2 col-xl-1 align-self-center px-1">
        <div class="favourites btn-color2">
          <a class="nav-link p-0" href="{% url 'customer:wishlists-list' %}">
              <span id="wishlist_items" style="margin-left:17px;margin-top: -4px;z-index: 100;" class="badge badge-pill badge-danger position-absolute">{{ wishlist_items }}</span>
              <i class="far fa-heart fa-2x"></i>
              <p>{% trans 'Favourites' %}</p>
          </a>
        </div>
      </div>
      <div class="col col-4 col-md-4 order-md-8 col-xl-2 align-self-center mt-md-1 px-1">
        <div class="basket btn-color2">
          <div class="row justify-content-around no-gutters">
            <div class="col col-6 p-0" style="border-right: 1px solid gray;">
              <a class="nav-link p-0" role="button" href="{% url 'basket:summary' %}">
                  <img width=26 height=26 src="{% static 'svg/basket.svg' %}" style="width:26px;height:26px;" />
                  <p style="margin-top:2.25px;">Warenkorb</p>
              </a>
            </div>
            <div class="col col-6 align-self-center p-0">
              <a class="nav-link p-0" role="button" href="{% url 'basket:summary' %}">
                <p><strong><span id="basket_items">{{request.basket.all_lines.count}}</span> {% trans 'Item' %}</strong></p>
                {% if not hide_price %}
                  <p><strong><span id="basket_value">{% if request.basket.is_tax_known %}
                  {{ request.basket.total_incl_tax }}
                  {% else %}
                    {{ request.basket.total_excl_tax }}
                  {% endif %}</span> â‚¬</strong></p>
                {% endif %}
              </a>
            </div>
          </div>
        </div>
      </div>
      <div class="col col-2 col-sm-1 align-self-center d-md-none text-right pl-0 mb-2">
        <button class="navbar-toggler ml-auto p-0" style="border: none;" type="button" data-toggle="collapse" data-target="#sidebarCollapse" aria-controls="sidebarCollapse" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-icon"></span>
        </button>
      </div>
      <div class="col col-12 col-md-4 order-md-5 col-lg-4 col-xl-6 align-self-end mt-2">
        {% include 'partials/search_box.html' %}
      </div>
      <div class="col col-md-2 order-md-6 d-none d-md-block align-content-stretch px-1 mt-md-1">
        {% if CONFIG.header_hints_bottom_1 %}
          <div class="card h-100">
            <div class="card-body d-flex p-1">
              {% if CONFIG.header_hints_bottom_1_url %}
              <a href="{{ CONFIG.header_hints_bottom_1_url }}" class="my-auto">
              {% endif %}
                <img width=200 height=75 src="{% thumbnail CONFIG.header_hints_bottom_1 200x75 %}" style="object-fit:contain" alt="" class="img-fluid">
              {% if CONFIG.header_hints_bottom_1_url %}
              </a>
              {% endif %}
            </div>
          </div>
        {% endif %}
      </div>
      <div class="col col-md-2 order-md-7 d-none d-md-block align-self-stretch px-1 mt-md-1">
        {% if CONFIG.header_hints_bottom_2 %}
          <div class="card h-100">
            <div class="card-body d-flex align-content-center p-1">
              {% if CONFIG.header_hints_bottom_2_url %}
              <a href="{{ CONFIG.header_hints_bottom_2_url }}" class="my-auto">
              {% endif %}
                <img width=200 height=75 src="{% thumbnail CONFIG.header_hints_bottom_2 200x75 %}" style="object-fit:contain" alt="" class="img-fluid">
              {% if CONFIG.header_hints_bottom_2_url %}
              </a>
              {% endif %}
            </div>
          </div>
        {% endif %}
      </div>
    </div>
  </div>
</div>
